{
  "variables": {
    "name": "ml-bench",
    "author": "vidbina",
    "memory": "2048",
    "disk_size": "20480",
    "locale": "en_US.UTF-8",
    "language": "en",
    "country": "NL",

    "iso_url": "http://releases.ubuntu.com/xenial/ubuntu-16.04.3-server-amd64.iso",
    "iso_checksum": "a06cd926f5855d4f21fb4bc9978a35312f815fbda0d0ef7fdc846861f4fc4600",
    "iso_checksum_type": "sha256",

    "ssh_username": "vagrant",
    "ssh_password": "vagrant"
  },
  "builders": [
    {
      "type": "virtualbox-iso",
      "name": "{{ user `name` }}",

      "guest_os_type": "Ubuntu_64",

      "iso_url": "{{ user `iso_url`}}",
      "iso_checksum": "{{ user  `iso_checksum` }}",
      "iso_checksum_type": "{{ user `iso_checksum_type` }}",

      "disk_size": "{{ user `disk_size` }}",

      "ssh_username": "{{ user `ssh_username` }}",
      "ssh_password": "{{ user `ssh_password` }}",

      "shutdown_command": "echo 'packer' | sudo -S shutdown -P now",

      "http_directory": "preseed",
      "boot_wait": "4s",
      "boot_command": [
        "<enter><enter><f6><esc><down>",
        "<bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs><bs>",
        "url=http://{{ .HTTPIP }}:{{ .HTTPPort }}/basic.cfg ",
        "debug-ubiquity ",
        "automatic-ubiquity ",
        "initrd=/casper/initrd.lz ",
        "locale={{user `locale`}} ",
        "hostname={{ user `name` }} ",
        "boot=casper ",
        "noprompt ",
        "--- ",
        "<enter>"
      ],

      "vboxmanage": [
        ["modifyvm", "{{.Name}}", "--memory", "{{ user `memory` }}"],
        ["modifyvm", "{{.Name}}", "--vram", "128"],
        ["modifyvm", "{{.Name}}", "--graphicscontroller", "vboxvga"],
        ["modifyvm", "{{.Name}}", "--monitorcount", "1"],
        ["modifyvm", "{{.Name}}", "--accelerate2dvideo", "on"],
        ["modifyvm", "{{.Name}}", "--accelerate3d", "on"]
      ]
    }
  ]
}
